(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{628:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/proofs",function(){return __webpack_require__(2671)}])},6778:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return Stepper}});var jsx_runtime=__webpack_require__(2322),index_esm=__webpack_require__(9649),dist_index_esm=__webpack_require__(1421),icon_dist_index_esm=__webpack_require__(4593);function IconChevronLeft(param){let{width,height,color}=param;return(0,jsx_runtime.jsx)(icon_dist_index_esm.JO,{width:width,height:height,color:color,children:(0,jsx_runtime.jsx)("path",{fill:"currentColor",d:"M16.2425 6.34317L14.8283 4.92896L7.75732 12L14.8284 19.0711L16.2426 17.6569L10.5857 12L16.2425 6.34317Z"})})}function IconChevronRight(param){let{width,height,color}=param;return(0,jsx_runtime.jsx)(icon_dist_index_esm.JO,{width:width,height:height,color:color,children:(0,jsx_runtime.jsx)("path",{fill:"currentColor",d:"M10.5859 6.34317L12.0001 4.92896L19.0712 12L12.0001 19.0711L10.5859 17.6569L16.2428 12L10.5859 6.34317Z"})})}function Stepper(param){let{step,onPrevClick,onNextClick}=param;return(0,jsx_runtime.jsxs)(index_esm.Ug,{width:"100%",justify:"space-between",pt:"6",children:[void 0!==onPrevClick?(0,jsx_runtime.jsx)(dist_index_esm.zx,{flex:"1",leftIcon:(0,jsx_runtime.jsx)(IconChevronLeft,{}),justifyContent:"left",colorScheme:"primary",variant:"link",disabled:!onPrevClick,onClick:onPrevClick||void 0,children:"Prev"}):(0,jsx_runtime.jsx)(index_esm.xu,{flex:"1"}),(0,jsx_runtime.jsxs)(index_esm.xv,{textAlign:"center",flex:"1",fontWeight:"bold",children:[step.toString(),"/3"]}),void 0!==onNextClick?(0,jsx_runtime.jsx)(dist_index_esm.zx,{flex:"1",rightIcon:(0,jsx_runtime.jsx)(IconChevronRight,{}),justifyContent:"right",colorScheme:"primary",variant:"link",disabled:!onNextClick,onClick:onNextClick||void 0,children:"Next"}):(0,jsx_runtime.jsx)(index_esm.xu,{flex:"1"})]})}__webpack_require__(2784)},9065:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return IconAddCircleFill}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2322),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4593);function IconAddCircleFill(param){let{width,height,color}=param;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.JO,{width:width,height:height,color:color,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{fill:"currentColor",d:"M12 22C6.477 22 2 17.523 2 12C2 6.477 6.477 2 12 2C17.523 2 22 6.477 22 12C22 17.523 17.523 22 12 22ZM11 11H7V13H11V17H13V13H17V11H13V7H11V11Z"})})}__webpack_require__(2784)},760:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return IconRefreshLine}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2322),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4593);function IconRefreshLine(param){let{width,height,color}=param;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.JO,{width:width,height:height,color:color,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{fill:"currentColor",d:"M5.463 4.43301C7.27756 2.86067 9.59899 1.99666 12 2.00001C17.523 2.00001 22 6.47701 22 12C22 14.136 21.33 16.116 20.19 17.74L17 12H20C20.0001 10.4316 19.5392 8.89781 18.6747 7.58927C17.8101 6.28072 16.5799 5.25517 15.1372 4.64013C13.6944 4.0251 12.1027 3.84771 10.56 4.13003C9.0172 4.41234 7.59145 5.14191 6.46 6.22801L5.463 4.43301ZM18.537 19.567C16.7224 21.1393 14.401 22.0034 12 22C6.477 22 2 17.523 2 12C2 9.86401 2.67 7.88401 3.81 6.26001L7 12H4C3.99987 13.5684 4.46075 15.1022 5.32534 16.4108C6.18992 17.7193 7.42007 18.7449 8.86282 19.3599C10.3056 19.9749 11.8973 20.1523 13.44 19.87C14.9828 19.5877 16.4085 18.8581 17.54 17.772L18.537 19.567Z"})})}__webpack_require__(2784)},2671:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return ProofsPage}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2322),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5436),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(9649),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1421),_semaphore_protocol_group__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7981),_semaphore_protocol_identity__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5842),_semaphore_protocol_proof__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7408),ethers__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4997),ethers__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(8715),next_config__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(314),next_config__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_4__),next_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5632),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2784),_components_Stepper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6778),_context_LogsContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(891),_context_SemaphoreContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9438),_icons_IconAddCircleFill__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(9065),_icons_IconRefreshLine__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(760),qrcode_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9782);let{publicRuntimeConfig:env}=next_config__WEBPACK_IMPORTED_MODULE_4___default()();function ProofsPage(){let router=(0,next_router__WEBPACK_IMPORTED_MODULE_5__.useRouter)(),{setLogs}=(0,react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_context_LogsContext__WEBPACK_IMPORTED_MODULE_8__.Z),{_users,_feedback,refreshFeedback,addFeedback}=(0,react__WEBPACK_IMPORTED_MODULE_6__.useContext)(_context_SemaphoreContext__WEBPACK_IMPORTED_MODULE_9__.Z),[_loading,setLoading]=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.kt)(),[_identity,setIdentity]=(0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(),[carryData,setCarryData]=(0,react__WEBPACK_IMPORTED_MODULE_6__.useState)({});(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{let identityString=localStorage.getItem("identity");if(!identityString){router.push("/");return}setIdentity(new _semaphore_protocol_identity__WEBPACK_IMPORTED_MODULE_2__.i(identityString))},[]),(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{_feedback.length>0&&setLogs("".concat(_feedback.length," feedback retrieved from the group \uD83E\uDD19\uD83C\uDFFD"))},[_feedback]),(0,react__WEBPACK_IMPORTED_MODULE_6__.useEffect)(()=>{console.log(carryData)},[carryData]);let sendFeedback=(0,react__WEBPACK_IMPORTED_MODULE_6__.useCallback)(async()=>{if(!_identity)return;let feedback="dumb";if(feedback&&_users){setLoading.on(),setLogs("Posting your anonymous feedback...");try{let group=new _semaphore_protocol_group__WEBPACK_IMPORTED_MODULE_1__.Z(env.GROUP_ID,20,_users),signal=ethers__WEBPACK_IMPORTED_MODULE_14__.O$.from(ethers__WEBPACK_IMPORTED_MODULE_15__.s(feedback)).toString(),{proof,merkleTreeRoot,nullifierHash}=await (0,_semaphore_protocol_proof__WEBPACK_IMPORTED_MODULE_3__.V_)(_identity,group,env.GROUP_ID,signal);carryData.feedback=signal,carryData.proof=proof,carryData.merkleTreeRoot=merkleTreeRoot,carryData.nullifierHash=nullifierHash,setCarryData(carryData=>({...carryData,feedback:signal,proof,merkleTreeRoot,nullifierHash})),setLogs("Your carryData was generated \uD83C\uDF89")}catch(error){console.error(error),setLogs("Some error occurred, please try again!")}finally{setLoading.off()}}},[_identity]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.X6,{as:"h2",size:"xl",children:"Proofs"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.xv,{pt:"2",fontSize:"md",children:["Semaphore members can anonymously"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.rU,{href:"https://semaphore.pse.dev/docs/guides/proofs",color:"primary.500",isExternal:!0,children:"prove"})," ","that they are part of a group and that they are generating their own signals. Signals could be anonymous votes, leaks, reviews, or feedback."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.iz,{pt:"5",borderColor:"gray.500"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.Ug,{py:"5",justify:"space-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.xv,{fontWeight:"bold",fontSize:"lg",children:["Feedback signals (",_feedback.length,")"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_17__.zx,{leftIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icons_IconRefreshLine__WEBPACK_IMPORTED_MODULE_11__.Z,{}),variant:"link",color:"text.700",onClick:refreshFeedback,children:"Refresh"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.xu,{pb:"5",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_17__.zx,{w:"100%",fontWeight:"bold",justifyContent:"left",colorScheme:"primary",px:"4",onClick:sendFeedback,isDisabled:_loading,leftIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icons_IconAddCircleFill__WEBPACK_IMPORTED_MODULE_10__.Z,{}),children:"Send Feedback"})}),_feedback.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.gC,{spacing:"3",align:"left",children:_feedback.map((f,i)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.gC,{p:"3",borderWidth:1,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.xv,{children:f}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(qrcode_react__WEBPACK_IMPORTED_MODULE_12__.tv,{value:"".concat(carryData.feedback," ").concat(carryData.proof," ").concat(carryData.merkleTreeRoot," ").concat(carryData.nullifierHash),size:256,bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!1})]},i))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.iz,{pt:"6",borderColor:"gray"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Stepper__WEBPACK_IMPORTED_MODULE_7__.Z,{step:3,onPrevClick:()=>router.push("/groups")})]})}},1861:function(){},7784:function(){}},function(__webpack_require__){__webpack_require__.O(0,[766,934,842,436,463,774,888,179],function(){return __webpack_require__(__webpack_require__.s=628)}),_N_E=__webpack_require__.O()}]);